# Session 4: 숙련도 (Dex) 시스템

## 목표
병종별 숙련도 관리 및 보너스 계산 시스템 구현

## 작업 목록

### 1. src/models/general.model.ts 확장
참고: core/hwe/sammo/General.php

dex 필드 추가:
```typescript
interface IGeneral {
  dex: {
    [crewTypeId: number]: number; // 병종별 숙련도
  };
  // 기존 필드들...
}
```

addDex() 메서드:
```typescript
addDex(crewType: number, amount: number, isTraining: boolean): void
```

### 2. src/utils/dex-calculator.ts
참고: core/hwe/func.php getDexLevelList()

- 숙련도 레벨 계산
- 숙련도 보너스 계산 (공격력, 방어력)
- 숙련도 경험치 변환

### 3. 기존 커맨드 업데이트 (10개)
- src/commands/general/conscript.ts (주석 해제)
- src/commands/general/train.ts
- src/commands/general/recruitTroops.ts
- src/commands/general/drill.ts
- 기타 병력 관련 커맨드

### 4. 테스트: src/utils/__tests__/dex-calculator.test.ts
- 숙련도 레벨 계산 === PHP
- 보너스 계산 === PHP
- 경험치 변환 === PHP

## 검증 기준
- [ ] 징병 후 숙련도 증가 === PHP
- [ ] 숙련도 레벨 계산 === PHP
- [ ] 숙련도 보너스 적용 === PHP

## 완료 시
- coordination/backend-progress.md 업데이트
- d_log/2025-11-23_session-4-dex-system.log
